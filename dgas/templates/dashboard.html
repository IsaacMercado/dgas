{% extends "base.html" %}
{% load static i18n %}
{% load humanize %}
{% block title %}Dashboard - Operadores{% endblock %}


{% block css %}
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
    <style>
    .iframe-container{
    position: relative;
    width: 100%;
    padding-bottom: 56.25%; /* Ratio 16:9 ( 100%/16*9 = 56.25% ) */
}
.iframe-container > *{
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
}
    </style>
{% endblock css %}

{% block content-header %}

    <section class="content-header">
        <h1>
            Dashboard
            <small>Control panel</small>
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
            <li class="active">Dashboard</li>
        </ol>
    </section>

{% endblock content-header %}


{% block content %}


    <!-- Dasboard Operadores-->
    {% for group in user.groups.all %}
        {% if group.name == 'Administrador' %}
            {% include "dash_administrador.html" %}
        {% endif %}
    {% endfor %}

    <!-- Dasboard Operadores-->
    {% for group in user.groups.all %}
        {% if group.name == 'Estacion' %}
            {% include "dash_estacion.html" %}
        {% endif %}
    {% endfor %}

    <!-- Dasboard Operadores-->
    {% for group in user.groups.all %}
        {% if group.name == 'Recolector' %}
            {% include "dash_recolector.html" %}
        {% endif %}
    {% endfor %}

    <!-- Dasboard Operadores-->
    {% for group in user.groups.all %}
        {% if group.name == 'Recolector' %}
            {% include "dash_coordinador.html" %}
        {% endif %}
    {% endfor %}


    <div class="row">
        <div class="col-lg-3 col-xs-12">
            <div iframe-container>
                <div id="map" style="width: 100%; height: 400px;"></div>
            </div>

        </div>
    </div>



{% endblock content %}

{% block js %}

    <!--script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAWmLPcRTmRXt1OuNsti1PT6_VpttIpSAo">
</script -->

    {% comment %}
    <script src="https://maps.google.com/maps/api/js?key=AIzaSyAWmLPcRTmRXt1OuNsti1PT6_VpttIpSAo" type="text/javascript"></script>
    <script type="text/javascript">

        var icons = {
          off_line: {
            icon: '{% static "img/maps/off_line.png" %}'
          },
          on_line: {
            icon: '{% static "img/maps/on_line.png" %}'
          }
        };

        var locations = [
            ['Centenario <b>Campo Elias</b>', 8.547719, -71.2310603, 4, 'off_line'],
            ['Capo Elias - Boticario <b>Campo Elias</b>', 8.5498887, -71.2305963, 5, 'on_line'],
            ['Los guaimaros <b>Campo Elias</b>', 8.5451303,-71.2496198, 3, 'off_line'],
            ['Higrones <b>Campo Elias</b>', 8.5261304,-71.2728809, 1, 'off_line'],

            ['MILLA <b>LIBERTADOR<b> Hollada de Milla', 8.6134125,-71.1360684, 1, 'on_line'],
            ['LA BECERRA <b>LIBERTADOR<b> Hollada de Milla', 8.6132454,-71.1364547, 1, 'on_line'],
            ['BELLA VISTA MÉRIDA C.A <b>LIBERTADOR<b>	La vuelta de Lola', 8.6199017,-71.1316857, 1, 'off_line'],
            ['EL RETORNO <b>LIBERTADOR<b>	Santa Ana', 8.6118638,-71.1457566, 1, 'off_line'],

            ['CHAMA	<b>LIBERTADOR<b> Av 16 de Septimbre', 8.5824523,-71.1589705, 1, 'off_line'],
            ['AEROPUERTO MÉRIDA	<b>LIBERTADOR<b> Av. Urdaneta Entrada Aeropuerto', 8.5839759, -71.1622146, 1, 'on_line'],
            ['INVER - AVENIDA URDANETA C.A	<b>LIBERTADOR<b> Av. Urdaneta Diagonal Banco de Venezuela', 8.5886291, -71.1567637, 1, 'off_line'],


            ['LAGO AMERICA 24 HORAS - Arriba del terminal <b>LIBERTADOR<b>', 8.588448, -71.1649173, 1, 'off_line'],
            ['ALBA LAGO Cerca de Muchachi - <b>LIBERTADOR<b>', 8.589019, -71.1613254, 1, 'on_line'],

            ['LAS TAPIAS	<b>LIBERTADOR<b> Av. Andres Bello', 8.56287, -71.1916053, 1,'off_line'],

            //['URDANETA	LIBERTADOR ??', 8.5884798, -71.1568238, 1, 'off_line'],

            ['LIBERTADOR <b>LIBERTADOR<b>', 8.5745453,	-71.1918065, 1, 'on_line'],
            ['LA PEDREGOSA <b>LIBERTADOR<b>', 8.5761897,	-71.1882043, 1, 'off_line'],

            ['Los proceres con Alberto carnevali <b>LIBERTADOR<b>', 8.5588278, -71.198917, 1, 'off_line'],
            ['DIBA C.A	<b>LIBERTADOR<b>', 8.5595811, -71.2111103, 1, 'off_line'],
            ['LOS PROCERES 	<b>LIBERTADOR<b>', 8.5848623,	-71.1775935, 1, 'off_line'],
            ['LAS BUGAM´S VILLES <b>LIBERTADOR<b>', 8.588687,-71.17206, 1, 'off_line'],
            ['LA MATA ', 8.5612972,	-71.2014437, 1, 'off_line'],

        ];







        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 14,
            center: new google.maps.LatLng(8.54200, -71.24200),
            mapTypeId: google.maps.MapTypeId.ROADMAP
        });

        var infowindow = new google.maps.InfoWindow();

        var marker, i;

        for (i = 0; i < locations.length; i++) {
            marker = new google.maps.Marker({
                position: new google.maps.LatLng(locations[i][1], locations[i][2]),
                map: map, icon: icons[locations[i][4]].icon
            });

            google.maps.event.addListener(marker, 'click', (function (marker, i) {
                return function () {
                    infowindow.setContent(locations[i][0]);
                    infowindow.open(map, marker);
                }
            })(marker, i));
        }
    </script>
    {% endcomment %}
{% endblock js %}
